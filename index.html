<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="心如止水，潜心修行">
<meta property="og:type" content="website">
<meta property="og:title" content="Kil Notes">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Kil Notes">
<meta property="og:description" content="心如止水，潜心修行">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Kil Notes">
<meta name="twitter:description" content="心如止水，潜心修行">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Kil Notes</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Kil Notes</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Quick notes</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/08/cordova/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar/pazu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/08/08/cordova/" itemprop="url">cordova</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-08T14:01:46+08:00">
                2020-08-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Frame/" itemprop="url" rel="index">
                    <span itemprop="name">Frame</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="basic"><a href="#basic" class="headerlink" title="basic"></a>basic</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">npm i -g cordova</span><br><span class="line"></span><br><span class="line">updata</span><br><span class="line">npm i -g cordova</span><br><span class="line"></span><br><span class="line">cordova create MyApp</span><br><span class="line"></span><br><span class="line">可以创建的平台</span><br><span class="line">cordova platform</span><br><span class="line"></span><br><span class="line">cordova run android</span><br></pre></td></tr></table></figure>
<h2 id="add-plugin"><a href="#add-plugin" class="headerlink" title="add plugin"></a>add plugin</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cordova plugin add &lt;path to plugin folder&gt;</span><br></pre></td></tr></table></figure>
<h2 id="remove-plugin"><a href="#remove-plugin" class="headerlink" title="remove plugin"></a>remove plugin</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cordova plugin rm cordova-plugin-dispaly-cutout</span><br></pre></td></tr></table></figure>
<h2 id="环境设置"><a href="#环境设置" class="headerlink" title="环境设置"></a>环境设置</h2><p>error<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ cordova run android</span><br><span class="line">Checking Java JDK and Android SDK versions</span><br><span class="line">ANDROID_SDK_ROOT=undefined (recommended setting)</span><br><span class="line">ANDROID_HOME=undefined (DEPRECATED)</span><br><span class="line">Failed to find <span class="string">'ANDROID_SDK_ROOT'</span> environment variable. Try setting it manually.</span><br><span class="line">Failed to find <span class="string">'android'</span> <span class="built_in">command</span> <span class="keyword">in</span> your <span class="string">'PATH'</span>. Try update your <span class="string">'PATH'</span> to include path to valid SDK directory.</span><br></pre></td></tr></table></figure></p>
<h1 id="android"><a href="#android" class="headerlink" title="android"></a>android</h1><h2 id="run"><a href="#run" class="headerlink" title="run"></a>run</h2><p>手机插上电脑usb，执行：cordova run android</p>
<h1 id="ios"><a href="#ios" class="headerlink" title="ios"></a>ios</h1><h2 id="刘海"><a href="#刘海" class="headerlink" title="刘海"></a>刘海</h2><p>简单操作<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">padding-top</span>: <span class="selector-tag">env</span>(<span class="selector-tag">safe-area-inset-top</span>);</span><br><span class="line"><span class="selector-tag">padding-bottom</span>: <span class="selector-tag">env</span>(<span class="selector-tag">safe-area-inset-bottom</span>);</span><br></pre></td></tr></table></figure></p>
<h2 id="隐藏状态栏"><a href="#隐藏状态栏" class="headerlink" title="隐藏状态栏"></a>隐藏状态栏</h2><p>Hiding at startup<br>During runtime you can use the StatusBar.hide function below, but if you want the StatusBar to be hidden at app startup on iOS, you must modify your app’s Info.plist file.</p>
<p>Add/edit these two attributes if not present. Set “Status bar is initially hidden” to “YES” and set “View controller-based status bar appearance” to “NO”. If you edit it manually without Xcode, the keys and values are:</p>
<p><key>UIStatusBarHidden</key></p>
<p><true></true></p>
<p><key>UIViewControllerBasedStatusBarAppearance</key></p>
<false>

<h2 id="纵屏，不允许翻转"><a href="#纵屏，不允许翻转" class="headerlink" title="纵屏，不允许翻转"></a>纵屏，不允许翻转</h2><p>在config.xml中有这么一条</p>
<preference name="Orientation" value="portrait">

<p>Orientation有三个值可取，分别是 default、portrait、landscape</p>
<p>default:意思是app可以在四个方向随意旋转。<br>portrait：纵向<br>landscape：横向</p>
<h2 id="build"><a href="#build" class="headerlink" title="build"></a>build</h2><h3 id="本机测试"><a href="#本机测试" class="headerlink" title="本机测试"></a>本机测试</h3><p>问题：<br> “iPhone Developer” in the build settings editor</p>
<p>解决：<br>Xcode &gt; preference &gt; Accounts signing 证书<br>project &gt; Build Settings &gt; Signin &gt; Code Signing Identity &gt; debug &gt; iOS Developer</p>
<h3 id="build-ipa包"><a href="#build-ipa包" class="headerlink" title="build ipa包"></a>build ipa包</h3><p>问题：<br>xcode archive 一直是灰色的</p>
<p>解决：<br>把配置选择为device才能选build and archive的，模拟器的肯定不能build and archive</p>
<h2 id="UIWebView-审核失败"><a href="#UIWebView-审核失败" class="headerlink" title="UIWebView 审核失败"></a>UIWebView 审核失败</h2><p>打开终端，cd到项目根目录。<br>执行以下命令，就能看到哪些文件内还在有UIWebview的踪迹。</p>
<p>grep -r UIWebView .</p>
<h2 id="cordova-plugin-wkwebview-engine-出错"><a href="#cordova-plugin-wkwebview-engine-出错" class="headerlink" title="cordova-plugin-wkwebview-engine 出错"></a>cordova-plugin-wkwebview-engine 出错</h2><p>/Users/niekaifa/ikyu/KilFront/cordova-app/platforms/ios/HelloCordova/Plugins/cordova-plugin-wkwebview-engine/CDVWKWebViewEngine.m:104:80: error: property ‘userAgent’ not found on object of type ‘CDVViewController <em>‘<br>        wkWebView.customUserAgent = ((CDVViewController</em>) self.viewController).userAgent;<br>                                                                               ^<br>/Users/niekaifa/ikyu/KilFront/cordova-app/platforms/ios/HelloCordova/Plugins/cordova-plugin-wkwebview-engine/CDVWKWebViewEngine.m:375:6: error: use of undeclared identifier ‘CDVUserAgentUtil’<br>    [CDVUserAgentUtil releaseLock:vc.userAgentLockToken];<br>     ^<br>/Users/niekaifa/ikyu/KilFront/cordova-app/platforms/ios/HelloCordova/Plugins/cordova-plugin-wkwebview-engine/CDVWKWebViewEngine.m:388:6: error: use of undeclared identifier ‘CDVUserAgentUtil’<br>    [CDVUserAgentUtil releaseLock:vc.userAgentLockToken];</p>
<p>删除 platforms/    plugins/ 文件</p>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>build ios 搞了两周。seven 几分钟 跑起来<br>搞搞时间很快就没了<br>cordova 文档<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">11577* yarn upgrade cordova-ios@6.1.0</span><br><span class="line">11578* cordova plugin rm cordova-plugin-ionic-webview</span><br><span class="line">11579* cordova platform add ios</span><br><span class="line">11580* cordova plugin rm cordova-plugin-statusbar</span><br><span class="line">11581* cordova plugin add cordova-plugin-ionic-webview</span><br><span class="line">11582* cordova build ios --verbose</span><br><span class="line">verbose : 打印出详细内容</span><br><span class="line">11583* cordova clean ios</span><br><span class="line">11584* cordova build ios --verbose</span><br><span class="line">build 分为两步：prepare + compile</span><br><span class="line">11585* cordova prepare ios --verbose</span><br><span class="line">11586* cordova compile ios --verbose</span><br><span class="line">11587* <span class="built_in">cd</span> tooqing-webapp</span><br><span class="line">11588* git pull</span><br><span class="line">11589* <span class="built_in">cd</span> ..</span><br><span class="line">11590* git submodule update --remote</span><br><span class="line">11591* <span class="built_in">cd</span> tooqing-webapp</span><br><span class="line">11592* vue-cli-service build --mode cordova</span><br><span class="line">11593* yarn</span><br><span class="line">11594* yarn build:cordova</span><br><span class="line">11595* <span class="built_in">cd</span> ..</span><br><span class="line">11596* cordova build ios --verbose</span><br></pre></td></tr></table></figure></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">preference</span> <span class="attr">name</span>=<span class="string">"WKWebViewOnly"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
</preference></false>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/05/editor/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar/pazu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/08/05/editor/" itemprop="url">editor</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-05T17:20:05+08:00">
                2020-08-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="electron"><a href="#electron" class="headerlink" title="electron"></a>electron</h1><h2 id="use"><a href="#use" class="headerlink" title="use"></a>use</h2><p><a href="https://github.com/KilFront/electron-app" target="_blank" rel="noopener">https://github.com/KilFront/electron-app</a></p>
<h2 id="electron-amp-amp-angular"><a href="#electron-amp-amp-angular" class="headerlink" title="electron&amp;&amp;angular"></a>electron&amp;&amp;angular</h2><p><a href="https://github.com/KilFront/electron-app/tree/angular" target="_blank" rel="noopener">https://github.com/KilFront/electron-app/tree/angular</a></p>
<h1 id="angular"><a href="#angular" class="headerlink" title="angular"></a>angular</h1><h1 id="primeNG"><a href="#primeNG" class="headerlink" title="primeNG"></a>primeNG</h1><p>[praɪm]<br>angular UI 框架</p>
<h2 id="dialog"><a href="#dialog" class="headerlink" title="dialog"></a>dialog</h2><p>对话框<br>dynamic  [daɪˈnæmɪk] 动态</p>
<h3 id="打开对话框"><a href="#打开对话框" class="headerlink" title="打开对话框"></a>打开对话框</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; DialogService &#125; <span class="keyword">from</span> <span class="string">"primeng/dynamicdialog"</span>;</span><br><span class="line">providers: [DialogService],</span><br><span class="line"><span class="keyword">this</span>.dialogService.open(GameVersionListComponent, &#123;</span><br><span class="line">  header: <span class="string">`<span class="subst">$&#123;this.game.name&#125;</span>-历史版本`</span>,</span><br><span class="line">  width: <span class="string">"550px"</span>,</span><br><span class="line">  style: &#123; top: <span class="string">"30%"</span> &#125;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    game: <span class="keyword">this</span>.game,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="对话框传值"><a href="#对话框传值" class="headerlink" title="对话框传值"></a>对话框传值</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; DynamicDialogConfig, DynamicDialogRef &#125; <span class="keyword">from</span> <span class="string">"primeng/dynamicdialog"</span>;</span><br><span class="line"><span class="keyword">private</span> ref: DynamicDialogRef,</span><br><span class="line"><span class="keyword">this</span>.ref.close(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/30/advanced-exercise/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar/pazu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/30/advanced-exercise/" itemprop="url">advanced-exercise</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-07-30T22:58:37+08:00">
                2020-07-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Front-End/" itemprop="url" rel="index">
                    <span itemprop="name">Front-End</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="UTF8-编码"><a href="#UTF8-编码" class="headerlink" title="UTF8 编码"></a>UTF8 编码</h1><h2 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h2><p>string -&gt; utf8<br>character -&gt; unicode编码：<br>str.codePointAt();</p>
<p>unicode -&gt; binary<br>unicode.toString(2);</p>
<p>二进制补位<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">0xxxxxxx</span><br><span class="line"></span><br><span class="line">110xxxxx 10xxxxxx</span><br><span class="line"></span><br><span class="line">1110xxxx 10xxxxxx 10xxxxxx</span><br><span class="line"></span><br><span class="line">11110xxx 10xxxxxx 10xxxxxx 10xxxxxx</span><br><span class="line"></span><br><span class="line">111110xx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx</span><br><span class="line"></span><br><span class="line">1111110x 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx</span><br></pre></td></tr></table></figure></p>
<p>我们先举个简单的例子。把英文字母”A”转为UTF8编码。<br>1、“A”的charCode为65<br>2、65位于0-127的区间，所以“A”占一个字节<br>3、UTF8中一个字节的补位为0xxxxxxx，x表示的是空位，是用来补位的。<br>4、将65转为二进制得到1000001<br>5、将1000001按照从前到后的顺序，依次补到1xxxxxxx的空位中，得到01000001<br>6、将11000001转为字符串，得到”A”<br>7、最终，”A”为UTF8编码之后“A”</p>
<p>通过这个小例子，我们是否再次验证了UTF-8是Unicode的超集！<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// "中"的charCode为20013</span></span><br><span class="line"><span class="keyword">var</span> code = <span class="number">20013</span>;</span><br><span class="line">code.toString(<span class="number">2</span>); </span><br><span class="line"><span class="comment">// =&gt; 100111000101101 等同于 01001110 00101101</span></span><br></pre></td></tr></table></figure></p>
<p>然后，我们按照上面“A”补位的方法，来给”中”补位。<br>将01001110 00101101按照从前到后的顺序依此补位到1110xxxx 10xxxxxx 10xxxxxx上.得到11100100 10111000 10101101.</p>
<p>通过上面的步骤，我们得到了”中”的三个UTF8字节，11100100 10111000 10101101。<br>我们将每个字节转为16进制，得到0xE4 0xB8 0xAD;<br>那么这个0xE4 0xB8 0xAD就是我们最终得到的UTF8编码了。</p>
<h2 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h2><p>我们使用nodejs的buffer来验证一下是否正确。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> buffer = <span class="keyword">new</span> Buffer(<span class="string">'中'</span>); </span><br><span class="line"><span class="built_in">console</span>.log(buffer.length); <span class="comment">// =&gt; 3</span></span><br><span class="line"><span class="built_in">console</span>.log(buffer); <span class="comment">// =&gt; &lt;Buffer e4 b8 ad&gt;</span></span><br><span class="line"><span class="comment">// 最终得到三个字节 0xe4 0xb8 0xad</span></span><br></pre></td></tr></table></figure></p>
<h2 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h2><span class="label ib_yellow">只会转义非英文字符</span>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'中'</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> code = <span class="built_in">encodeURI</span>(str);</span><br><span class="line"> </span><br><span class="line"><span class="built_in">console</span>.log(code); <span class="comment">// =&gt; %E4%B8%AD</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 下面我们将%E4%B8%AD转为一个number数组。</span></span><br><span class="line"><span class="keyword">var</span> codeList = code.split(<span class="string">'%'</span>);</span><br><span class="line"> </span><br><span class="line">codeList = codeList.map(<span class="function"><span class="params">item</span> =&gt;</span> <span class="built_in">parseInt</span>(item,<span class="number">16</span>));</span><br><span class="line"> </span><br><span class="line"><span class="built_in">console</span>.log(codeList); <span class="comment">// =&gt; [228, 184, 173]</span></span><br></pre></td></tr></table></figure>
<h2 id="二进制转换十六进制"><a href="#二进制转换十六进制" class="headerlink" title="二进制转换十六进制"></a>二进制转换十六进制</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="string">'11100100'</span>;</span><br><span class="line">x = <span class="built_in">parseInt</span>(x, <span class="number">2</span>); <span class="comment">//2进制转10进制</span></span><br><span class="line">x = x.toString(<span class="number">16</span>); <span class="comment">//10进制转16进制</span></span><br></pre></td></tr></table></figure>
<h2 id="解析回来"><a href="#解析回来" class="headerlink" title="解析回来"></a>解析回来</h2><p>用decodeURI/decodeURIComponent就可以了。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> codeList = [<span class="number">228</span>, <span class="number">184</span>, <span class="number">173</span>];</span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> code = codeList.map(<span class="function"><span class="params">item</span> =&gt;</span> <span class="string">'%'</span>+item.toString(<span class="number">16</span>)).join(<span class="string">''</span>);</span><br><span class="line"> </span><br><span class="line"><span class="built_in">decodeURI</span>(code); <span class="comment">// =&gt; 中</span></span><br></pre></td></tr></table></figure></p>
<p><a href="https://blog.csdn.net/themagickeyjianan/article/details/80725606" target="_blank" rel="noopener">参考链接</a></p>
<h1 id="浏览器"><a href="#浏览器" class="headerlink" title="浏览器"></a>浏览器</h1><h2 id="不准使用正则表达式，纯粹用-JavaScript-的逻辑实现：在一个字符串中，找到字符“ab”"><a href="#不准使用正则表达式，纯粹用-JavaScript-的逻辑实现：在一个字符串中，找到字符“ab”" class="headerlink" title="不准使用正则表达式，纯粹用 JavaScript 的逻辑实现：在一个字符串中，找到字符“ab”"></a>不准使用正则表达式，纯粹用 JavaScript 的逻辑实现：在一个字符串中，找到字符“ab”</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findAB</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; str.length; i++)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'i'</span>, i, str[i]);</span><br><span class="line">    <span class="keyword">if</span> (str[i] === <span class="string">'a'</span> &amp;&amp; str[i + <span class="number">1</span>] === <span class="string">'b'</span>) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'ab'</span>, str[i] + str[i + <span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">findAB(<span class="string">'sdsdab'</span>);</span><br></pre></td></tr></table></figure>
<span class="label ib_yellow">注意，作业错误，此处应为：str.length - 1</span>
<p>助教点评：<br>最后一个字符就是i = 4<br>str[i + 1]取得是什么？</p>
<h3 id="优秀作业"><a href="#优秀作业" class="headerlink" title="优秀作业"></a>优秀作业</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">find</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> step = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> c <span class="keyword">of</span> str) &#123; <span class="comment">// of 作用在str上就是把每个字符取出来</span></span><br><span class="line">    <span class="keyword">if</span> (c=== <span class="string">'a'</span>) &#123;</span><br><span class="line">      step = <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (step === <span class="number">1</span> &amp;&amp; c === <span class="string">'b'</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      step = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="状态机查找abcabx"><a href="#状态机查找abcabx" class="headerlink" title="状态机查找abcabx"></a>状态机查找abcabx</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> status = <span class="literal">false</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foundB</span>(<span class="params">c</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (c === <span class="string">'c'</span> &amp;&amp; !status) &#123;</span><br><span class="line">      status = <span class="literal">true</span>;</span><br><span class="line">      <span class="keyword">return</span> foundC;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c === <span class="string">'x'</span> &amp;&amp; status) &#123;</span><br><span class="line">      <span class="keyword">return</span> end</span><br><span class="line">  &#125; <span class="keyword">else</span></span><br><span class="line">      <span class="keyword">return</span> start(c)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>助教点评：不正确 不符合状态机没有副作用的特性<br>状态机不应该用全局变量<br>只能用输入参数<br>Q：程序不是 最好不要重复写相同的方法嘛<br>A：这就是状态机 你可能需要再理解和感受一下</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/10/advanced/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar/pazu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/10/advanced/" itemprop="url">advanced</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-07-10T18:18:35+08:00">
                2020-07-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Front-End/" itemprop="url" rel="index">
                    <span itemprop="name">Front-End</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h1><h2 id="语言通识"><a href="#语言通识" class="headerlink" title="语言通识"></a>语言通识</h2><p><code><img src="/2020/07/10/advanced/language.png"></code></p>
<p><code><img src="/2020/07/10/advanced/type.png"></code></p>
<p><code><img src="/2020/07/10/advanced/js01.png"></code></p>
<h2 id="乔姆斯基谱系"><a href="#乔姆斯基谱系" class="headerlink" title="乔姆斯基谱系"></a>乔姆斯基谱系</h2><p>乔姆斯基谱系：是计算机科学中刻画形式文法表达能力的一个分类谱系，是由诺姆·乔姆斯基于 1956 年提出的。它包括四个层次：<br>0- 型文法（无限制文法或短语结构文法）包括所有的文法。<br>1- 型文法（上下文相关文法）生成上下文相关语言。<br>2- 型文法（上下文无关文法）生成上下文无关语言。<br>3- 型文法（正规文法）生成正则语言。</p>
<h2 id="BNF"><a href="#BNF" class="headerlink" title="BNF"></a>BNF</h2><p>巴科斯范式 Backus Normal Form</p>
<p>是一种用于表示上下文无关文法的语言，上下文无关文法描述了一类形式语言。它是由约翰·巴科斯（John Backus）和彼得·诺尔（Peter Naur）首先引入的用来描述计算机语言语法的符号集。</p>
<p><code><img src="/2020/07/10/advanced/bnf.png"></code><br><code><img src="/2020/07/10/advanced/bnf02.png"></code></p>
<h3 id="理解"><a href="#理解" class="headerlink" title="理解"></a>理解</h3><p><a href="https://www.cnblogs.com/huiyenashen/p/4445676.html" target="_blank" rel="noopener">链接</a><br>BNF 规定是推导规则(产生式)的集合，写为：</p>
<p>&lt;符号&gt; ::= &lt;使用符号的表达式&gt;<br>这里的 &lt;符号&gt; 是非终结符，而表达式由一个符号序列，或用指示选择的竖杠’|’ 分隔的多个符号序列构成，每个符号序列整体都是左端的符号的一种可能的替代。从未在左端出现的符号叫做终结符。</p>
<p>基本原理<br>      BNF类似一种数学游戏：从一个符号开始（叫做起始标志，实例中常用S表示），然后给出替换前面符号的规则。BNF语法定义的语言只不过是一个字符串集合，你可以按照下述规则书写，这些规则叫做书写规范（生产式规则），形式如下：<br>      symbol := alternative1 | alternative2 …<br>      每条规则申明:=左侧的符号必须被右侧的某一个可选项代替。替换项用“|”分割（有时用“::=”替换“:=”，但意思是一样的）。替换项通常有两个符号和终结符构成。之所以叫做终结符是因为没有针对他们的书写规范，他们是书写过程的终止（符号通常被叫做非终止符，也有人叫非终端）。</p>
<pre><code>BNF就是巴科特·瑙尔式的缩写， 在计算机的史前时代（1950s)，曾有一位大师，他奠定了现代计算机的基础，在他老人家的诸多成就之中，包括了对形式语言的研究，和发明了高级语言：FORTRAN。 为了纪念他老人家，我们把他提出的一套描述语言的方法叫做BNF。它以递归方式描述语言中的各种成分，凡遵守其规则的程序就可保证语法上的正确性。BNF由于其简洁、明了、科学而被广泛接受，成为描述各种程序设计语言的最常用的工具。
其实BNF很简单，::=表示定义     |表示或    尖括号(&lt;&gt;)括起来的是非终结符 
</code></pre><p>　　所谓非终结符就是语言中某些抽象的概念不能直接出现在语言中的符号，终结符就是可以直接出现在语言中的符号。<br>　　比如：C语言的声明语句可以用BNF这样描述：<br>　　&lt;声明语句&gt; ::= &lt;类型&gt;&lt;标识符&gt;; | &lt;类型&gt;&lt;标识符&gt;[&lt;数字&gt;];<br>　　这一句中&lt;声明语句&gt;这个非终结符被定义成了两种形式（上面用|隔开的两部分），同时在这里引入了三个终结符: 分号; 左方括号[，右方括号 ]。<br>　　&lt;类型&gt; ::= &lt;简单类型&gt; | &lt;指针类型&gt; | &lt;自定义类型&gt;<br>　　&lt;指针类型&gt; ::= &lt;简单类型&gt; <em> | &lt;自定义类型&gt; </em><br>　　&lt;简单类型&gt; ::= int|char|double|float|long|short|void<br>　　&lt;自定义类型&gt; ::= enum&lt;标识符&gt;|struct&lt;标识符&gt;|union&lt;标识符&gt;|&lt;标识符&gt;<br>　　到这里就基本上把&lt;类型&gt;定义清楚了。</p>
<p>　　&lt;数字&gt; ::= 0x&lt;十六进制数字串&gt; | 0&lt;八进制数字串&gt; | &lt;十进制数字串&gt;<br>　　&lt;十六进制数字串&gt; ::= &lt;十六进制数字&gt; | &lt;十六进制数字串&gt;&lt;十六进制数字&gt;<br>　　&lt;八进制数字串&gt; ::= &lt;八进制数字&gt; | &lt;八进制数字串&gt;&lt;八进制数字&gt;<br>　　&lt;十进制数字串&gt; ::= &lt;十进制数字&gt; | &lt;十进制数字串&gt;&lt;十进制数字&gt;<br>　　&lt;十六进制数字&gt; ::= &lt;十进制数字&gt; | A | B | C | D | E | F<br>　　&lt;十进制数字&gt; ::= &lt;八进制数字&gt; | 8 | 9<br>　　&lt;八进制数字&gt; ::= 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7<br>　　到这里就把&lt;数字&gt;定义清楚了 </p>
<p>　　&lt;标识符&gt; ::= &lt;字母&gt; | &lt;标识符&gt; &lt;字母数字串&gt;<br>　　&lt;字母数字串&gt; ::= &lt;字母&gt;|&lt;十进制数字&gt;|&lt;字母数字串&gt;&lt;字母&gt;|&lt;字母数字串&gt;&lt;十进制数字&gt;<br>　　&lt;字母&gt; ::= _ | &lt;大写字母&gt; | &lt;小写字母&gt;<br>　　&lt;小写字母&gt; ::= a|b|c|d|e|f|g|h|i|j ……<br>　　&lt;大写字母&gt; ::= A|B|C|D|E|F|G|H|I|J ……<br>　　到此为止整个声明语句就定义完了（就是说已经没有非终结符了）。</p>
<pre><code>虽然看起来很繁，但前面定义的各种非终结符都可以很容易的在别的地方重用。比如，函数声明可以定义成下面的样子： 
</code></pre><p>　　&lt;函数声明语句&gt; ::= &lt;类型&gt;&lt;标识符&gt;(&lt;形参表&gt;);<br>　　&lt;形参表&gt; ::= &lt;类型&gt;&lt;标识符&gt; | &lt;形参表&gt;,&lt;形参表&gt;<br>　　只用两句就描述完了，所以BNF实际上比用自然语言要简练得多（整个C语言只用一二百句就可以描述清楚），而且相当的精确，不会有自然语言中那种模棱两可的表达。如果你对BNF比较敏感的话，会发现C里面的标识符不能由数字开头，而且在C里面下划线是被当做字母看待的（也就是说能用字母的地方都可以用下划线）。</p>
<h2 id="产生式"><a href="#产生式" class="headerlink" title="产生式"></a>产生式</h2><p> 在计算机中指 Tiger 编译器将源程序经过词法分析（Lexical Analysis）和语法分析（Syntax Analysis）后得到的一系列符合文法规则（Backus-Naur Form，BNF）的语句</p>
<p>几种结构的组合产生一个新的结构，叫语法定义也叫语法产生式。</p>
<h2 id="终结符"><a href="#终结符" class="headerlink" title="终结符"></a>终结符</h2><p>终结符： 最终在代码中出现的字符（ <a href="https://zh.wikipedia.org/wiki/" target="_blank" rel="noopener">https://zh.wikipedia.org/wiki/</a> 終結符與非終結符)</p>
<p>不是代码终止的意思</p>
<h1 id="JS类型"><a href="#JS类型" class="headerlink" title="JS类型"></a>JS类型</h1><h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><p><code><img src="/2020/07/10/advanced/code.png"></code><br>ASCII 0-127个字符 ；出来的较早，计算机的基础<br>Unicode 世界编码集<br>GB 国标里的字符码点跟Unicode码点不一致</p>
<p>UTF8<br>8个比特位，1个字节，默认用一个字节表示一个字符</p>
<p>UTF16<br>16个比特位，2个字节表示一个字符<br><code><img src="/2020/07/10/advanced/utf.png"></code></p>
<p>控制位<br><code></code></p>
<h1 id="浏览器工作原理"><a href="#浏览器工作原理" class="headerlink" title="浏览器工作原理"></a>浏览器工作原理</h1><h2 id="浏览器总论"><a href="#浏览器总论" class="headerlink" title="浏览器总论"></a>浏览器总论</h2><p><code><img src="/2020/07/10/advanced/browser.png"></code><br>最后显示在计算机上的是图片的形式 Bitmap，最后传给显卡驱动设备，转换成人眼可识别的光信号。</p>
<p>浏览器目标：<br>从URL -&gt; Bitmap （过程是浏览器渲染的基础流程）</p>
<h2 id="状态机"><a href="#状态机" class="headerlink" title="状态机"></a>状态机</h2><p>有限状态机<strong>处理字符串</strong><br><code><img src="/2020/07/10/advanced/state.png"></code></p>
<p>意义：在各个状态加入自己的逻辑，处理业务</p>
<p>debug 添加监视<br><code><img src="/2020/07/10/advanced/state02.png"></code></p>
<h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><p>浏览器的第一步：http状态解析</p>
<ul>
<li>http状态</li>
<li>header</li>
</ul>
<h3 id="网络模型"><a href="#网络模型" class="headerlink" title="网络模型"></a>网络模型</h3><p><code><img src="/2020/07/10/advanced/http.jpg"></code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Request(&#123;</span><br><span class="line">  method: <span class="string">"POST"</span>,     <span class="comment">// TCP 层</span></span><br><span class="line">  host: <span class="string">"127.0.0.1"</span>,  <span class="comment">// IP 层</span></span><br><span class="line">  post: <span class="string">"8088"</span>        <span class="comment">// TCP 层</span></span><br><span class="line">  path: <span class="string">"/"</span>        <span class="comment">// method 和 path 都是HTTP协议要求的</span></span><br><span class="line">  headers: &#123;</span><br><span class="line">    [<span class="string">"X-Foo2"</span>]: <span class="string">"customed"</span>  <span class="comment">// HTTP协议要求</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="TCP与IP的一些基础知识"><a href="#TCP与IP的一些基础知识" class="headerlink" title="TCP与IP的一些基础知识"></a>TCP与IP的一些基础知识</h3><ul>
<li>流</li>
<li>端口<br>每一个软件都会从网卡去拿数据，哪一个数据是分配给哪一个软件的，需要用到端口概念</li>
<li><p>node 对应 require(‘net’)</p>
</li>
<li><p>包<br>TCP 传输的就是一个一个数据包的概念</p>
</li>
<li>IP 地址<br>数据包 从那到那</li>
<li>node没有，node 调用C++ 库。libnet/libpcap<br>libnet: 负责构造IP包并且发送<br>libpcap: 负责从网卡抓所有的流经你的网卡的IP包</li>
</ul>
<h3 id="HTTP-1"><a href="#HTTP-1" class="headerlink" title="HTTP"></a>HTTP</h3><ul>
<li>request</li>
<li>response</li>
</ul>
<p>必须先由客户端发起一个 request，服务端发送一个 response</p>
<p>HTTP 协议是文本型的协议，所有内容都是字符串</p>
<p>method: GET/POST</p>
<h4 id="http协议-request"><a href="#http协议-request" class="headerlink" title="http协议 request"></a>http协议 request</h4><p><code><img src="/2020/07/10/advanced/request.png"></code></p>
<p>第一步HTTP请求总结</p>
<ul>
<li>设计一个HTTP请求的类</li>
<li>content type是一个必要的字段，要有默认值</li>
<li>body是kv格式</li>
<li>不同的content-type影响body的格式</li>
<li>content length</li>
</ul>
<p>第二步send函数编写</p>
<ul>
<li>在Request的构造器中收集必要的信息</li>
<li>设计一个send函数，把请求真实发送到服务器</li>
<li>send函数应该是异步的，所以返回Promise</li>
</ul>
<p>response 格式<br><code><img src="/2020/07/10/advanced/response.png"></code></p>
<p>第三步发送请求到服务端（重要）</p>
<ul>
<li>设计支持已有的connection或者自己新建connection</li>
<li>收到数据传给parser</li>
<li>根据parser的状态resolve Promise</li>
</ul>
<p>第四步response解析（重要）</p>
<ul>
<li>Response必须分段构造，所以我们要用一个 ResponseParser来 “装配”</li>
<li>ResponseParser分配处理ResponseText，我们用状态机来分析文本的结构</li>
</ul>
<p>最后一步response body解析</p>
<ul>
<li>Resonse的body可能根据Content-Type有不同的结构，因此我们会采用子Parser的结构来解决问题</li>
<li>以TrunkBodyParser为例，我们同样用状态机来处理body的格式</li>
</ul>
<h4 id="HTML解析"><a href="#HTML解析" class="headerlink" title="HTML解析"></a>HTML解析</h4><p>第一步 Parse模块的文件拆分</p>
<ul>
<li>为了方便文件管理，把parser单独拆到文件中</li>
<li>parser接受HTML文本作为参数，返回一颗DOM树</li>
</ul>
<p>第二步 用FSM实现HTML的分析</p>
<ul>
<li>用FSM来实现HTML的分析</li>
<li>在HTML标准中，已经规定了HTML的状态 <a href="https://html.spec.whatwg.org/multipage/parsing.html#tokenization" target="_blank" rel="noopener">whatwg</a></li>
<li>Toy-Browser只挑选其中一部分状态，完成一个最简版本</li>
</ul>
<p>第三步 解析标签<br>三种tag：</p>
<ul>
<li>开始标签</li>
<li>结束标签</li>
<li>自封闭标签</li>
</ul>
<p>总结：</p>
<ul>
<li>主要的标签有：开始标签，结束标签和自封闭标签</li>
<li>在这一步我们暂时忽略属性</li>
</ul>
<p>第四步 创建元素</p>
<ul>
<li>在状态机中，除了状态迁移，我们还会要加入业务逻辑</li>
<li>我们在标签结束状态提交标签token</li>
</ul>
<p>第五步 处理属性</p>
<ul>
<li>属性值分为单引号、双引号、无引号三种写法，因此需要较多状态处理</li>
<li>处理属性的方式跟标签类似</li>
<li>属性结束时，把属性加到标签Token上</li>
</ul>
<p>第六步 用token构建DOM树<br>Tree construction 第一步</p>
<ul>
<li>从标签构建DOM树的基本技巧是使用栈</li>
<li>遇到开始标签时创建元素并入栈，遇到结束标签时出栈</li>
<li>自封闭节点可视为入栈后立即出栈</li>
<li>任何元素的父元素是它入栈前的栈顶</li>
</ul>
<p>第七步 将文本节点加到DOM树</p>
<ul>
<li>文本节点与自封闭标签处理类似</li>
<li>多个文本节点需要合并</li>
</ul>
<h4 id="CSS计算"><a href="#CSS计算" class="headerlink" title="CSS计算"></a>CSS计算</h4><p>环境准备：<br>npm install css (css == css parser, 把css的代码变成 AST抽象语法树)<br>根据这颗抽象语法树，抽出各种CSS规则，应用到HTML元素上</p>
<p>第一步 收集CSS规则</p>
<ul>
<li>遇到style标签时，我们把CSS规则保存起来</li>
<li>这里我们调用CSS Parser来分析CSS规则</li>
<li>仔细研究此库分析CSS规则的格式</li>
</ul>
<p>第二步 添加调用<br>计算CSS时机</p>
<ul>
<li>创建一个元素后，立即计算CSS</li>
<li>理论上，当我们分析一个元素时，所有CSS规则已经收集完毕</li>
<li>在真实浏览器中，可能遇到写在body的style标签，需要重新CSS计算的情况，这里我们忽略</li>
</ul>
<p>第三步 获取父元素序列</p>
<ul>
<li>在computeCSS函数中，我们必须知道元素的所有父元素才能判断元素与规则是否匹配</li>
<li>我们从上一步骤的stack，可以获取本元素所有的父元素</li>
<li>因此我们首先获取的是 ”当前元素“，所以我们获取得和计算父元素匹配的顺序是从内向外</li>
</ul>
<p>第四步 选择器与元素的匹配</p>
<ul>
<li>选择器也要从当前元素向外排列</li>
<li>复杂选择器拆成针对单个元素的选择器，用循环匹配父元素队列</li>
</ul>
<p>第五步 计算选择器与元素匹配</p>
<ul>
<li>根据选择器的类型和元素属性，计算是否与当前元素匹配</li>
<li>这里仅仅实现了三种基本选择器，实际的浏览器中要处理复合选择器</li>
<li>可选：实现复合选择器，实现支持空格的Class选择器</li>
</ul>
<p>第六步 生成computed属性</p>
<ul>
<li>一旦选择匹配，就应用选择器到元素上，形成computedStyle</li>
</ul>
<h1 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h1><p>学习一门语言，先从语法入手</p>
<p>语法<br>• <a href="https://www.w3.org/TR/CSS21/grammar.html#q25.0" target="_blank" rel="noopener">https://www.w3.org/TR/CSS21/grammar.html#q25.0</a><br>• <a href="https://www.w3.org/TR/css-syntax-3" target="_blank" rel="noopener">https://www.w3.org/TR/css-syntax-3</a></p>
<h2 id="At-rules"><a href="#At-rules" class="headerlink" title="At-rules"></a>At-rules</h2><p>• @charset : <a href="https://www.w3.org/TR/css-syntax-3/" target="_blank" rel="noopener">https://www.w3.org/TR/css-syntax-3/</a><br>• @import :<a href="https://www.w3.org/TR/css-cascade-4/" target="_blank" rel="noopener">https://www.w3.org/TR/css-cascade-4/</a><br>• @media :<a href="https://www.w3.org/TR/css3-conditional/" target="_blank" rel="noopener">https://www.w3.org/TR/css3-conditional/</a><br>• @page : <a href="https://www.w3.org/TR/css-page-3/" target="_blank" rel="noopener">https://www.w3.org/TR/css-page-3/</a><br>• @counter-style :<a href="https://www.w3.org/TR/css-counter-styles-3" target="_blank" rel="noopener">https://www.w3.org/TR/css-counter-styles-3</a> • @keyframes :<a href="https://www.w3.org/TR/css-animations-1/" target="_blank" rel="noopener">https://www.w3.org/TR/css-animations-1/</a><br>• @fontface :<a href="https://www.w3.org/TR/css-fonts-3/" target="_blank" rel="noopener">https://www.w3.org/TR/css-fonts-3/</a><br>• @supports :<a href="https://www.w3.org/TR/css3-conditional/" target="_blank" rel="noopener">https://www.w3.org/TR/css3-conditional/</a><br>• @namespace :<a href="https://www.w3.org/TR/css-namespaces-3/" target="_blank" rel="noopener">https://www.w3.org/TR/css-namespaces-3/</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/09/yarn/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar/pazu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/09/yarn/" itemprop="url">yarn</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-07-09T16:41:21+08:00">
                2020-07-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tool/" itemprop="url" rel="index">
                    <span itemprop="name">Tool</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>一、安装<br>brew install yarn</p>
<p>升级<br>brew upgrade yarn</p>
<p>查看版本<br>yarn –version</p>
<p>二、使用<br>初始化新项目<br>yarn init</p>
<p>添加依赖包<br>yarn add [package]<br>yarn add [package]@[version]<br>yarn add [package]@[tag]</p>
<p>yarn add [package] –dev</p>
<p>升级依赖包<br>yarn upgrade [package]<br>yarn upgrade [package]@[version]<br>yarn upgrade [package]@[tag]</p>
<p>移除依赖包<br>yarn remove [package]</p>
<p>安装项目依赖<br>yarn</p>
<h1 id="源"><a href="#源" class="headerlink" title="源"></a>源</h1><p>查看<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ yarn config get registry</span><br><span class="line">https://registry.yarnpkg.com</span><br></pre></td></tr></table></figure></p>
<p>换源<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ yarn config <span class="built_in">set</span> registry <span class="string">'https://registry.npm.taobao.org'</span></span><br><span class="line">yarn config v1.22.4</span><br><span class="line">success Set <span class="string">"registry"</span> to <span class="string">"https://registry.npm.taobao.org"</span>.</span><br><span class="line">✨  Done <span class="keyword">in</span> 0.03s.</span><br></pre></td></tr></table></figure></p>
<h1 id="link"><a href="#link" class="headerlink" title="link"></a>link</h1><p>改变依赖路径<br>yarn link game-capsule</p>
<p>link suc：<br>node_modules game-capsule 出现 ↵ 字符</p>
<p>查看link 文件<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ls -l node_modules | grep ^l</span><br><span class="line">lrwxr-xr-x    1 niekaifa  staff     42  8  3 16:41 game-capsule -&gt; ../../../../.config/yarn/link/game-capsule</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/08/nginx/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar/pazu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/08/nginx/" itemprop="url">nginx</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-07-08T10:18:01+08:00">
                2020-07-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="查看服务器是否安装nginx"><a href="#查看服务器是否安装nginx" class="headerlink" title="查看服务器是否安装nginx"></a>查看服务器是否安装nginx</h1><p>which nginx<br>没有安装会返回空<br>安装了会返回路径<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">root@quick-hat-1:~<span class="comment"># which nginx</span></span><br><span class="line">/usr/sbin/nginx</span><br><span class="line"></span><br><span class="line">root@quick-hat-1:~<span class="comment"># nginx -v</span></span><br><span class="line">nginx version: nginx/1.10.3 (Ubuntu)</span><br><span class="line"></span><br><span class="line">root@quick-hat-1:~<span class="comment"># whereis nginx</span></span><br><span class="line">nginx: /usr/sbin/nginx /etc/nginx /usr/share/nginx</span><br></pre></td></tr></table></figure></p>
<h2 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h2><p><a href="http://nginx.org/en/download.html" target="_blank" rel="noopener">版本</a><br>Mainline version：正在开发阶段的版本，可能会有漏洞。<br>Stable version：稳定版<br>Legacy versions： 历史版本</p>
<h2 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h2><p>彻底删除nginx自动生成的配置项和相关联的软件</p>
<p>停止nginx   ，nginx -s stop<br>卸载<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get --purge remove nginx </span><br><span class="line">sudo apt-get autoremove</span><br></pre></td></tr></table></figure></p>
<p>查询和nginx相关的自动安装的软件<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg --get- selections|grep nginx</span><br></pre></td></tr></table></figure></p>
<p>查询的结果<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx-common deinstall</span><br></pre></td></tr></table></figure></p>
<p>卸载该软件<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get --purge remove nginx-common</span><br></pre></td></tr></table></figure></p>
<h2 id="linux安装最新版"><a href="#linux安装最新版" class="headerlink" title="linux安装最新版"></a>linux安装最新版</h2><p>安装或升级<br>需要添加源才能下载Nginx的稳定版本<br>首先输入以下两条命令<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo wget http://nginx.org/keys/nginx_signing.key</span><br><span class="line">sudo apt-key add nginx_signing.key</span><br></pre></td></tr></table></figure></p>
<p>在 /etc/apt/sources.list 文件中加入下面两行：<br>deb <a href="http://nginx.org/packages/ubuntu/" target="_blank" rel="noopener">http://nginx.org/packages/ubuntu/</a> codename nginx<br>deb-src <a href="http://nginx.org/packages/ubuntu/" target="_blank" rel="noopener">http://nginx.org/packages/ubuntu/</a> codename nginx<br>注意 codename 要根据系统来选择<a href="http://nginx.org/en/linux_packages.html#stable" target="_blank" rel="noopener">系统</a><br>sudo vim /etc/apt/sources.list<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">deb http://nginx.org/packages/ubuntu/ bionic nginx</span><br><span class="line">deb-src http://nginx.org/packages/ubuntu/ bionic nginx</span><br></pre></td></tr></table></figure></p>
<p>安装<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install nginx</span><br></pre></td></tr></table></figure></p>
<p>查看<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@VM-0-4-ubuntu:/home<span class="comment"># nginx -v</span></span><br><span class="line">nginx version: nginx/1.18.0</span><br></pre></td></tr></table></figure></p>
<h1 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h1><p>启动<br>systemctl start nginx<br>nginx -s start;</p>
<p>启动成功后浏览器输入ip，显示相应信息<br><code><img src="/2020/07/08/nginx/nginx1.png"></code></p>
<p>重启<br>systemctl restart nginx<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@quick-hat-1:/etc/nginx/sites-enabled<span class="comment"># nginx -s reload</span></span><br></pre></td></tr></table></figure></p>
<p>停止<br>systemctl stop nginx<br>nginx -s stop;</p>
<p>开机自启（保证可持续提供服务）<br>systemctl enable nginx</p>
<p>卸载<br>apt-get –purge remove nginx</p>
<p>检测语法<br>修改配置后，可以通过下面的命令测试是否有语法错误<br>nginx -t;</p>
<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><p>/ect是linux下专门用来放配置文件的一个目录</p>
<h2 id="nginx-默认页面"><a href="#nginx-默认页面" class="headerlink" title="nginx 默认页面"></a>nginx 默认页面</h2><p>/etc/nginx/sites-enabled/default</p>
<p>root /var/www/html;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@quick-hat-1:/var/www/html<span class="comment"># ls</span></span><br><span class="line">index.nginx-debian.html</span><br></pre></td></tr></table></figure></p>
<h2 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h2><p>opt，optional，可选择目录<br>etc，et cetera，存放配bai置文件</p>
<h1 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h1><h2 id="本地文件复制到服务器"><a href="#本地文件复制到服务器" class="headerlink" title="本地文件复制到服务器"></a>本地文件复制到服务器</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ scp -r -P 29847 dist root@96.45.180.121:/opt </span><br><span class="line">root@96.45.180.121<span class="string">'s password: </span></span><br><span class="line"><span class="string">index.html                                                                                                100%  234     1.1KB/s   00:00    </span></span><br><span class="line"><span class="string">bundle.min.js                                                                                             100%   99KB  16.7KB/s   00:05</span></span><br></pre></td></tr></table></figure>
<p>Linux scp 命令用于 Linux 之间复制文件和目录。<br>scp 是 secure copy 的缩写, scp 是 linux 系统下基于 ssh 登陆进行安全的远程文件拷贝命令。<br>scp 是加密的，rcp 是不加密的，scp 是 rcp 的加强版。</p>
<h2 id="修改服务器nginx配置文件"><a href="#修改服务器nginx配置文件" class="headerlink" title="修改服务器nginx配置文件"></a>修改服务器nginx配置文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@quick-hat-1:/etc/nginx/sites-enabled<span class="comment"># vim default</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#root /var/www/html;</span></span><br><span class="line">root /opt/dist;</span><br></pre></td></tr></table></figure>
<p>浏览器输入地址：<a href="http://96.45.180.121/" target="_blank" rel="noopener">http://96.45.180.121/</a><br><code><img src="/2020/07/08/nginx/nginx2.png"></code></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/07/fitness/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar/pazu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/07/fitness/" itemprop="url">fitness</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-07-07T19:37:53+08:00">
                2020-07-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/fitness/" itemprop="url" rel="index">
                    <span itemprop="name">fitness</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="瘦肚子"><a href="#瘦肚子" class="headerlink" title="瘦肚子"></a>瘦肚子</h1><ul>
<li>力量训练<br>高强度间歇训练 High Intensity Interval Training，简称HIIT<br>标准：一组下来，一直在喘气，而不是还能说出来一两个字</li>
</ul>
<h1 id="六种健康餐"><a href="#六种健康餐" class="headerlink" title="六种健康餐"></a>六种健康餐</h1><h2 id="鸡胸肉西兰花加米饭"><a href="#鸡胸肉西兰花加米饭" class="headerlink" title="鸡胸肉西兰花加米饭"></a>鸡胸肉西兰花加米饭</h2><p><code><img src="/2020/07/07/fitness/food1.png"></code><br>经典健康餐组合<br>鸡胸肉：优质蛋白，蛋白质含量非常高，脂肪很少<br>西兰花：营养丰富，卡路里低<br>米饭：营养丰富，准备简单</p>
<p>做法：<br>鸡胸肉切片，放盐和胡椒。加热炒锅，喷一层零脂肪的喷油（目的不粘锅）。<br>喷油品牌：PAM<br>食用油的话，脂肪超标<br>鸡胸肉翻四次，变成金黄色</p>
<p>外加：<br>零卡辣椒酱</p>
<p>时长：8min<br>价格：15RMB</p>
<p>营养成分:<br>蛋白质：68G，碳水：66G，脂肪：8G</p>
<h2 id="罗非鱼加芦笋加红薯"><a href="#罗非鱼加芦笋加红薯" class="headerlink" title="罗非鱼加芦笋加红薯"></a>罗非鱼加芦笋加红薯</h2><p><code><img src="/2020/07/07/fitness/food2.png"></code><br>相比第一个更容易消化，红薯饱腹，续航时间更长</p>
<p>做法：<br>红薯：<br>厨房用纸包上，微波炉热几分钟</p>
<p>时长：8min<br>价格：20RMB</p>
<p>营养成分:<br>蛋白质：60G，碳水：40G，脂肪：6G</p>
<h2 id="肌肉沙拉三明治"><a href="#肌肉沙拉三明治" class="headerlink" title="肌肉沙拉三明治"></a>肌肉沙拉三明治</h2><p><code><img src="/2020/07/07/fitness/food3.png"></code><br>食材：<br>全麦面包（人工添加剂，糖分比较少的，避免胰岛素波动过大）<br>牛油果（增肌期的法宝）<br>火鸡肉片（或网购即食鸡胸肉）<br>蔬菜</p>
<p>时长：3min<br>价格：10RMB</p>
<p>营养成分:<br>蛋白质：36G，碳水：38G，脂肪：15G</p>
<h2 id="蘑菇菠菜鸡蛋卷"><a href="#蘑菇菠菜鸡蛋卷" class="headerlink" title="蘑菇菠菜鸡蛋卷"></a>蘑菇菠菜鸡蛋卷</h2><p><code><img src="/2020/07/07/fitness/food4.png"></code><br>减脂期早餐</p>
<p>蘑菇菠菜：微量元素很多，卡路里很低</p>
<p>做法：<br>锅热，喷油，放蘑菇，放盐和胡椒。<br>快熟了把菠菜放进去，把鸡蛋打进去。<br>放点辣酱，完成。</p>
<p>时长：5min<br>价格：5RMB</p>
<p>营养成分:<br>蛋白质：18G，碳水：7G，脂肪：15G</p>
<h2 id="吞拿鱼罐头沙拉"><a href="#吞拿鱼罐头沙拉" class="headerlink" title="吞拿鱼罐头沙拉"></a>吞拿鱼罐头沙拉</h2><p><code><img src="/2020/07/07/fitness/food5.png"></code><br>食材：<br>鱼罐头：沙丁鱼 和 吞拿鱼<br>罐头选择：水浸而不是油浸，避免额外脂肪</p>
<p>做法：<br>混合在一起</p>
<p>时长：2min<br>价格：8-15RMB</p>
<p>营养成分:<br>蛋白质：17G，碳水：4G，脂肪：2G</p>
<h2 id="蓝莓蛋白麦片"><a href="#蓝莓蛋白麦片" class="headerlink" title="蓝莓蛋白麦片"></a>蓝莓蛋白麦片</h2><p><code><img src="/2020/07/07/fitness/food6.png"></code><br>练前一个小时吃，充足的碳水，保证好的运动表现<br>蛋白棒</p>
<p>时长：2min<br>价格：10RMB</p>
<p>营养成分:<br>蛋白质：20G，碳水：71G，脂肪：7G</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/07/server/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar/pazu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/07/server/" itemprop="url">server</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-07-07T17:55:09+08:00">
                2020-07-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/server/" itemprop="url" rel="index">
                    <span itemprop="name">server</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Login"><a href="#Login" class="headerlink" title="Login"></a>Login</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh 用户名@IP地址 -p 端口号</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/07/deploy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar/pazu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/07/deploy/" itemprop="url">deploy</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-07-07T16:50:54+08:00">
                2020-07-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/deploy/" itemprop="url" rel="index">
                    <span itemprop="name">deploy</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="自动化部署"><a href="#自动化部署" class="headerlink" title="自动化部署"></a>自动化部署</h1><h1 id="Rancher"><a href="#Rancher" class="headerlink" title="Rancher"></a>Rancher</h1>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/03/test/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar/pazu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/03/test/" itemprop="url">test</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-07-03T17:23:10+08:00">
                2020-07-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/test/" itemprop="url" rel="index">
                    <span itemprop="name">test</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>yarn add jest jest-webpack</p>
<h1 id="大公司"><a href="#大公司" class="headerlink" title="大公司"></a>大公司</h1><p>git 提交前，跑一遍jest，出错打回</p>
<h1 id="e2e"><a href="#e2e" class="headerlink" title="e2e"></a>e2e</h1><p>端到端测试，集成测试控件</p>
<p>end-to-end<br>站在用户角度的测试<br>e2e测试是把我们的程序堪称是一个黑盒子，我不懂你内部是怎么实现的，我只负责打开浏览器，把测试内容在页面上输入一遍，看是不是我想要得到的结果。</p>
<p>两者的存在都是很有意义的。<br>unit测试是程序员写好自己的逻辑后可以很容易的测试自己的逻辑返回的是不是都正确。<br>e2e代码是测试所有的需求是不是都可以正确的完成，而且最终要的是在代码重构，js改动很多之后，需要对需求进行测试的时候测试代码是不需要改变的，你也不用担心在重构后不能达到客户的需求。</p>
<h1 id="unit"><a href="#unit" class="headerlink" title="unit"></a>unit</h1><p>单元测试<br>站在程序员的角度测试<br>unit测试是把代码看成是一个个的组件。从而实现每一个组件的单独测试，测试内容主要是组件内每一个函数的返回结果是不是和期望值一样。<br>例如：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> compare = <span class="function">(<span class="params">a,b</span>) =&gt;</span> a&gt;b?a:b</span><br><span class="line">对这个函数进行测试</span><br><span class="line">expect(compare(<span class="number">1</span>,<span class="number">2</span>)).to.equal(<span class="number">2</span>) <span class="comment">//ok</span></span><br><span class="line">expect(compare(<span class="number">2</span>,<span class="number">1</span>)).to.equal(<span class="number">1</span>) <span class="comment">//ok</span></span><br><span class="line">测试完成</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/img/avatar/pazu.jpg"
                alt="kil" />
            
              <p class="site-author-name" itemprop="name">kil</p>
              <p class="site-description motion-element" itemprop="description">心如止水，潜心修行</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">67</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">34</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">56</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/kilfront" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:kaifaweb@163.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">kil</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
